# Course Project 1: Анализ Транзакций

## О проекте

Этот проект позволяет анализировать транзакции из Excel-файла, генерировать отчёты и выполнять поиск транзакций по категориям и описаниям. Приложение использует Python и библиотеку Pandas для обработки данных, а также предоставляет приветствие пользователю в зависимости от времени суток.

## Структура проекта

course_project_1/ ├── README.md ├── data │   └── operations.xlsx ├── poetry.lock ├── pyproject.toml ├── report.json ├── src │   ├── init.py │   ├── main.py │   ├── reports.py │   ├── services.py │   └── utils.py ├── tests │   ├── init.py │   ├── conftest.py │   ├── test_main.py │   ├── test_services.py │   └── test_utils.py └── user_settings.json


## Установка

1. **Клонируйте репозиторий:**

   ```bash
   git clone <URL_репозитория>
   cd course_project_1

2. ** Установите зависимости с помощью Poetry:
   poetry install

## Запуск проекта

1. Активируйте виртуальную среду:
poetry shell
Примечание: Если вы видите префикс (course-project-1-py3.12) в вашем терминале, значит виртуальная среда уже активирована.

2. Запустите приложение:
poetry run python src/main.py
Вы увидите приветствие и меню выбора действия.

## Использование

При запуске программы вы увидите приветствие, соответствующее времени суток, и меню с доступными действиями:

Добрый день!

Добро пожаловать в приложение для управления транзакциями.

Выберите действие:
1. Сгенерировать отчет
2. Поиск транзакций
3. Выход
Введите номер действия:

Доступные Действия:
1. Сгенерировать Отчёт
Программа считывает данные из файла operations.xlsx, анализирует их по категориям и сохраняет отчёт в формате JSON в файл report.json.
2. Поиск Транзакций
Позволяет искать транзакции по введённой строке. Например, ввод аптеки вернёт все транзакции, относящиеся к этой категории или содержащие это слово в описании.
3. Выход
Завершает работу приложения.

Пример Использования
1. Сгенерировать Отчёт:
Введите номер действия: 1
Генерация отчета...
Отчет сгенерирован и сохранен в 'report.json'.
2. Поиск Транзакций:
Введите номер действия: 2

Поиск транзакций...
Введите строку для поиска: аптеки
Найдено 152 транзакций:
{'Дата операции': '27.12.2021 18:31:43', 'Описание': 'Apteka 23', ...}
{'Дата операции': '16.12.2021 14:52:33', 'Описание': 'Аптека Вита', ...}
...

Тестирование

## Запуск Тестов
Для запуска тестов используйте следующую команду из корневой директории проекта:
poetry run pytest tests/

Все тесты должны пройти успешно, подтверждая корректную работу приложения.

## Описание Тестов
test_main.py
Проверяет корректность работы меню и функций генерации отчётов и поиска транзакций.
test_services.py
Проверяет сервисы для чтения и фильтрации данных.
test_utils.py
Тестирует функцию get_greeting на корректное приветствие в зависимости от времени суток.
Основные Функции

Генерация Отчётов
Функция: generate_report(file_path: str)
Описание: Читает данные из Excel-файла и генерирует отчёт по категориям расходов, сохраняя результат в формате JSON.
Поиск Транзакций
Функция: search_transactions(df: pd.DataFrame, query: str)
Описание: Принимает строку для поиска и возвращает все транзакции, содержащие запрос в описании или категории.
Приветствие Пользователя
Функция: get_greeting(current_time=None)
Описание: Возвращает приветствие в зависимости от времени суток.
Лицензия

## Этот проект лицензирован skypro License. Авторские права принадлежат студентам Skypro.

Дополнительная Информация

## Настройка Переменных Окружения
Создайте файл .env в корневой директории проекта и добавьте туда ваши API ключи:
EXCHANGE_RATE_API_KEY=your_exchange_rate_api_key
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key

## Авторы

Шумкин Михаил Владимирович - Разработка и тестирование
Контакты

Если у вас возникли вопросы или предложения, вы можете связаться со мной по shu.m2010@yandex.ru
